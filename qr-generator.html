<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste Oluştur - QR Kod</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Gerekli JavaScript dosyaları -->
    <script src="dataStorage.js"></script>
    <script src="script.js"></script>
    <script src="qr-generator.js"></script>
</head>
<body>
    <div id="particles-js" class="tech-background"></div>
    <div class="container">
        <div class="center-card">
            <h1 id="listTitle">QR Kod Oluşturuluyor...</h1>

            <div id="list-preview">
                <h2>Liste Önizleme</h2>
                <div id="preview-items">
                    <p>Yükleniyor...</p>
                </div>
            </div>

            <div id="qrContainer">
                <p>QR Kod oluşturuluyor...</p>
            </div>

            <div class="button-container">
                <button id="backButton" class="back-button">Ana Sayfaya Dön</button>
                <button id="editButton" class="edit-button">Listeyi Düzenle</button>
                <button id="downloadButton" class="download-button">QR Kodu İndir</button>
            </div>
        </div>
    </div>
    
    <script>
    // QR kodunu tamamen yerel olarak üretecek basit fonksiyon
    function generateQRImage(text, size) {
        // Google Charts API URL'sini oluştur
        const encodedText = encodeURIComponent(text);
        const qrSize = size || 200;
        const qrUrl = `https://chart.googleapis.com/chart?cht=qr&chl=${encodedText}&chs=${qrSize}x${qrSize}&chld=H|0`;
        
        // Yeni bir resim elementi oluştur
        const img = new Image();
        img.src = qrUrl;
        img.alt = "QR Kod";
        img.style.maxWidth = "100%";
        img.style.display = "block";
        img.style.margin = "0 auto";
        
        return {img, url: qrUrl};
    }
    </script>
    
    <!-- QR Generator script -->
    <script src="qr-generator.js"></script>
</body>
</html>
