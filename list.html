<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste GÃ¶rÃ¼ntÃ¼le</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h2 id="listTitle"></h2>
        <textarea id="listContent"></textarea>
        <button onclick="saveEditedList()">ðŸ’¾ DeÄŸiÅŸiklikleri Kaydet</button>
    </div>

    <script>
        function loadList() {
            let params = new URLSearchParams(window.location.search);
            let data = params.get("data");
            if (data) {
                let listData = JSON.parse(decodeURIComponent(data));
                document.getElementById("listTitle").innerText = listData.title;
                document.getElementById("listContent").value = listData.content;
            }
        }

        function saveEditedList() {
            let newContent = document.getElementById("listContent").value;
            let title = document.getElementById("listTitle").innerText;
            let updatedList = { title: title, content: newContent };
            let updatedString = encodeURIComponent(JSON.stringify(updatedList));
            let newURL = window.location.origin + "/liste.html?data=" + updatedString;

            history.replaceState(null, "", newURL);
            alert("DeÄŸiÅŸiklikler kaydedildi! QR kod deÄŸiÅŸmedi.");
        }

        document.addEventListener("DOMContentLoaded", loadList);
    </script>
</body>
</html>
